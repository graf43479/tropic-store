@model WebUI.Models.UserRoleViewModel

@*@using (Ajax.BeginForm("EditDimOrderStatus", "Admin", null, new AjaxOptions
    {
        UpdateTargetId = "update-message",
        InsertionMode = InsertionMode.Replace,
        HttpMethod = "POST",
        OnSuccess = "updateSuccess"
    }, new {@id="updateStatusForm"}))*@
@*<h1>Изменение роли для пользователя @Model.Login</h1>*@

@{
    Layout = null;
}

<style>
    form {
        border: none;
        background: none;
    }
</style>

<div class="modal" id="stack10" tabindex="-1" data-focus-on="input:first">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 id="myModalLabel">Задать роль пользователю @Model.Login</h3>
            </div>
          
                      @using (Ajax.BeginForm("EditUserRole", "Admin", null, new AjaxOptions
        {
            UpdateTargetId = "update-message",
            InsertionMode = InsertionMode.Replace,
            HttpMethod = "POST",
            OnSuccess = "updateSuccess"
        }, new { @id = "updateUserRoleForm" }))
                {
                    <div class="modal-body container-fluid">
                        @Html.ValidationSummary(true)
                   


                        <div class="col-md-12">
                            <fieldset>
                                
                                <div class="editor-field"> @Html.HiddenFor(model => model.UserRoleID)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.UserName)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.Email)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.IsActive)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.Login)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.Phone)</div>
                                <div class="editor-field"> @Html.HiddenFor(model => model.RoleName)</div>

                               @* @{if (Model != null)
                                  {
                                      @Html.HiddenFor(x => x.DimOrderStatusID)
                                  }
                                  else
                                  {
                                      @Html.Hidden("DimOrderStatusID", 0)
                                  }
  
                                }*@
                                
                                <div id="update-message" class="error invisible"></div>
                                <div class="control-group">
                                    <label class="col-lg-2 col-md-2 form-control-static">Роль</label> 
                                    <div class="col-lg-10 col-md-10">
                                        @Html.DropDownListFor(model => model.SelectedRoleID,
                                                              new SelectList(Model.Roles, "RoleID", "RoleName"), "--Выберите роль--")
                                        
                                    </div>

                                </div>
                            </fieldset>   
                        
                        </div>
                    </div>
                           
                           <div class="modal-footer">
                               <button class="btn" data-dismiss="modal" id="closeButton" aria-hidden="true">Закрыть</button>
                               <button class="btn btn-primary" id="userRoleButton">Сохранить</button>
                            </div>
                }

            
            
    
        </div>
    </div>
</div>

<script>

    $(document).ready(function () {
        $("#SelectedRoleID").addClass("form-control");

    });
</script>

@*
<div>
    @using (Ajax.BeginForm("EditUserRole", "Admin", null, new AjaxOptions
    {
        UpdateTargetId = "update-message",
        InsertionMode = InsertionMode.Replace,
        HttpMethod = "POST",
        OnSuccess = "updateSuccess"
    }, new { @id = "updateUserRoleForm" }))
    {
        //@Html.EditorForModel()
        <fieldset>
            <div id="update-message" class="error invisible"></div>
            <legend>Выбор роли</legend>
        <div class="editor-field"> @Html.HiddenFor(model => model.UserRoleID)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.UserName)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.Email)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.IsActive)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.Login)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.Phone)</div>
        <div class="editor-field"> @Html.HiddenFor(model => model.RoleName)</div>

        <div class="editor-label"> @Html.Label("Роль")</div>
        <div class="multi-line">  @Html.DropDownListFor(model => model.SelectedRoleID,
                                                        new SelectList(Model.Roles, "RoleID", "RoleName"), "--Выберите роль--")</div>
                                                        
        </fieldset>
        @*<div><input type="submit" value="Сохранить" /></div>*@
    

