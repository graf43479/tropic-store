@model IEnumerable<Domain.Entities.DimSetting>
@{
    ViewBag.Title = "Параметры";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<style>
    table {
        margin: 0;
    }
    tr {
        margin-bottom: 5px;
    }
    
    #SettingsValue {
        text-align: center;
    }
</style>



<ul class="breadcrumb">
    @{
        <li><a href="@Url.Action("Actions", "Admin")">Главная</a> <span class="divider">/</span></li>
        <li class=""><a href="@Url.Action("DimsParameters", "Admin")">Разное</a> <span class="divider">/</span></li>
       <li class="active"><a href="@Url.Action("Options", "Admin", new { settingTypeId = @Model.First().SettingTypeID })">Параметры "@Model.First().SettingTypeID "</a> <span class="divider">/</span></li>
    }
</ul>

<h2>Параметры</h2>
<p>@Html.ValidationSummary(true)</p>
<table class="table table-striped table-bordered table-hover table-condensed grid-style">
    <thead>
        <tr>
            <th>Нзавание</th>
            <th>Значение</th>
            <th>Применить</th>
            
        </tr>
    </thead>
    <tbody>
        @{
    
            foreach (var p in Model)
            {
                using (Html.BeginForm())
                {
                    if (p.SettingTypeID == "ADMIN_PAGE_SIZE")
                    {
                        <tr title="@p.SettingsDesc">
                            <td style="text-align: left; padding-left: 5px;">@Html.Label(p.SettingsID)</td>
                            <td>@Html.DropDownList("SettingsValue", new SelectList(new[] { 5, 10, 25, 50, 100 }), p.SettingsValue)</td>
                            <td><input type="submit" class="btn btn-info btn-md" value="Готово"/></td>
                            @Html.Hidden("SettingTypeID", p.SettingTypeID)
                            @Html.Hidden("SettingsDesc", p.SettingsDesc)
                            @Html.Hidden("SettingsID", p.SettingsID)
                        </tr>    
                    }
                    else
                    {
                        <tr title="@p.SettingsDesc">
                            <td style="text-align: left; padding-left: 5px;">@Html.Label(p.SettingsID)</td>
                            <td>@Html.TextBox("SettingsValue", p.SettingsValue, new { @class = "form-control" })</td>
                            <td><input type="submit" class="btn btn-info btn-md" value="Готово"/></td>
                            @Html.Hidden("SettingTypeID", p.SettingTypeID)
                            @Html.Hidden("SettingsDesc", p.SettingsDesc)
                            @Html.Hidden("SettingsID", p.SettingsID)
                        </tr>    
                    }

                }
            }
    
    
        }
    </tbody>
</table>


<script>

    $(document).ready(function () {
        $("select").addClass("form-control");

    });
</script>



<script>
    var p = $("#menu li a[href='/Admin/DimsParameters']");
    p.parent().addClass("selected");
</script>