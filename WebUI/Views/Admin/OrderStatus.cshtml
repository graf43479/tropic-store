
@{
    ViewBag.Title = "Статус заказа";
}

@{
    var s = TempData.Peek("OrderSummaryID");
    var statusesView = TempData.Peek("Statuses");

  //  Session["StartDate"];
  //  Session["EndDate"];
    
    @*
    var searchWord = TempData.Peek("SearchWord");
    var gridSortOptions = TempData.Peek("GridSortOptions");
    var page = TempData.Peek("Page");
    var startDate = TempData.Peek("StartDate");
    var endDate = TempData.Peek("EndDate");
    var isActive = TempData.Peek("IsActive");*@
} 
   
<h2>Статусы заказа</h2>



@{
    int cnt = 0;
    List<WebUI.Models.AssignedStatusViewModel> statuses = (List<WebUI.Models.AssignedStatusViewModel>)@statusesView;
    string[] desc = statuses.Select(x => x.DimOrderStatusDesc).ToArray();
}



@using (Html.BeginForm())
{
    <fieldset>
        <div class="editor-field"> 
        <table style="width: 100%" class="orders-statuses"> 
            <tr> 
             
    
    @foreach (var status in statuses)
    {
        if (cnt++ % 3 == 0)
        { 
                        @:  </tr> 
                    } 
                    @: <td>
                    
        <input type="checkbox"  
               name="selectedStatuses"
               value="@status.DimOrderStatusID"  
            @(Html.Raw(status.Assigned ? "checked=\"checked\"" : "")) />
        
                    @status.DimOrderStatusID @:&nbsp; @status.DimOrderStatusDesc 
                    @:</td> 
                } 
                </tr> 
             
        </table> 
        </div>
        <div class="col-lg-12" style="padding: 0; margin: 10px 0 0 0;">
            <input type="hidden" name="id" value="@s"/>
            <button type="submit" class="btn btn-md btn-warning col-lg-offset-8 col-md-offset-8 col-lg-4 col-md-4" style="margin-bottom: 10px"><span class="glyphicon glyphicon-floppy-saved">&nbsp;</span>Сохранить</button>
        </div>
        
    </fieldset>
}




@*
<fieldset>
        <div class="editor-field"> 
        <table style="width: 100%" class="orders-statuses"> 
            <tr> 
            @{ 
    int cnt = 0;
    List<WebUI.Models.AssignedStatusViewModel> statuses = (List<WebUI.Models.AssignedStatusViewModel>)@statusesView;
                string[] desc = statuses.Select(x => x.DimOrderStatusDesc).ToArray();
    foreach (var status in statuses)
    {
        if (cnt++ % 3 == 0)
        { 
                        @:  </tr> 
                    } 
                    @: <td>
                    
        <input type="checkbox"  
               name="selectedStatuses"
               value="@status.DimOrderStatusID"  
            @(Html.Raw(status.Assigned ? "checked=\"checked\"" : "")) />
        
                    @status.DimOrderStatusID @:&nbsp; @status.DimOrderStatusDesc 
                    @:</td> 
                } 
                @: </tr> 
            } 
        </table> 
        </div>
        <div class="col-lg-12" style="padding: 0; margin: 10px 0 0 0;">
            <input type="hidden" name="id" value="@s"/>
            <button type="submit" class="btn btn-md btn-warning col-lg-offset-8 col-md-offset-8 col-lg-4 col-md-4" style="margin-bottom: 10px"><span class="glyphicon glyphicon-floppy-saved">&nbsp;</span>Сохранить</button>
        </div>
        
    </fieldset>
*@


<script type="text/javascript">
    $(document).ready(function () {
        // $('.orders-statuses+>tr').children().first().remove();
        $('.orders-statuses tr').first().remove();
    });
    
        

</script>